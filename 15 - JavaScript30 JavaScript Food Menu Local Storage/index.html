<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LocalStorage</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!--
      Burger SVG Cred:
      https://thenounproject.com/search/?q=burger&i=589236
   -->

   <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><path d="M30.1,27c0.2,0.6,0.8,0.9,1.4,0.9c0.2,0,0.4,0,0.6-0.1c0.8-0.3,1.1-1.2,0.8-2L25.7,9.7c-0.3-0.8-1.2-1.1-2-0.8   c-0.8,0.3-1.1,1.2-0.8,2L30.1,27z"/><path d="M18.5,32.5c0.4,0,0.9-0.2,1.2-0.6c0.5-0.6,0.4-1.6-0.2-2.1l-9.4-7.5C9.5,21.9,8.5,22,8,22.6c-0.5,0.6-0.4,1.6,0.2,2.1   l9.4,7.5C17.9,32.4,18.2,32.5,18.5,32.5z"/><path d="M66.2,27.6c0.2,0.1,0.4,0.1,0.6,0.1c0.6,0,1.1-0.3,1.4-0.9l5.6-12.2c0.3-0.8,0-1.6-0.7-2c-0.8-0.3-1.6,0-2,0.7l-5.6,12.2   C65.1,26.3,65.4,27.2,66.2,27.6z"/><path d="M87.5,21.2c-0.6-0.5-1.6-0.5-2.1,0.2L77.9,30c-0.5,0.6-0.5,1.6,0.2,2.1c0.3,0.2,0.6,0.4,1,0.4c0.4,0,0.8-0.2,1.1-0.5   l7.5-8.7C88.2,22.7,88.2,21.7,87.5,21.2z"/><path d="M48.9,25.8C49,25.8,49,25.8,48.9,25.8c0.9,0,1.5-0.6,1.5-1.4L50.8,14c0-0.8-0.6-1.5-1.4-1.5c-0.8,0-1.5,0.6-1.5,1.4   l-0.3,10.3C47.5,25.1,48.1,25.8,48.9,25.8z"/><path d="M86.7,60.4c-0.1-0.4-0.3-0.7-0.6-0.9c-0.6-1-1.8-2.4-3.8-3.7c0.3-0.4,0.6-0.7,0.7-1.1c0,0,0-0.1,0-0.1   c0.1-0.3,2-8.4-3.9-14.4c-4.3-4.3-17.4-7.6-30-7.6c-6.8,0-16.5,1-24.1,5.6c-0.9,0.5-10.3,6.1-8.9,18.1c0.1,0.5,0.2,0.9,0.5,1.3   c-2.9,2.1-5.8,4.7-5.5,6.7c0.1,0.4,0.4,1.5,1.8,2c0.6,0.2,1.2,0.3,1.9,0.3c1.5,0,2.7-0.5,3.6-0.9c0,0,0,0,0,0c0,0.1,0,0.1,0,0.2   c0.1,0.6,0.1,1.3,0.3,2.1c-0.1,0.1-0.1,0.3-0.2,0.4c-1.3,0.6-2.9,1.7-3,3.3c0,0.1,0,0.3-0.1,0.4c-0.9,6.3,1.2,10.5,6.3,12.3   c4.7,1.7,13.1,3.8,25.1,3.8c6,0,12.9-0.5,20.7-1.9c15.2-2.7,16.4-5.4,15.9-13.1c0-0.5-0.1-1-0.1-1.6c0-1-0.5-1.8-1.2-2.3   c-0.5-0.4-1.1-0.6-1.7-0.7c1.1-0.1,2.3-0.3,3.4-0.6c0.5-0.1,0.9-0.5,1.1-1l1.8-5.5c0.1-0.3,0.1-0.6,0-1   C86.8,60.5,86.7,60.4,86.7,60.4z M22.8,81.6c-4.7-1.7-4.9-5.5-4.4-9c0-0.2,0.1-0.4,0.1-0.5c0-0.1,0.2-0.2,0.3-0.4   c0.4,0.3,1.4,0.7,2.7,1.2c0.2,0.1,0.4,0.1,0.6,0.2c3.1,1,7.9,2.2,13.8,3c0.9,1.4,2,2.5,3.4,2.5c0.5,0,0.9-0.1,1.4-0.3   c0.7-0.3,1.2-0.9,1.5-1.5c10.9,0.8,24.2-0.1,37.2-5.4c0.5,0.1,0.8,0.2,0.9,0.3c0,0.6,0.1,1.1,0.1,1.6c0.4,5.9,0.5,7.5-13.4,10   C44.3,87.4,29.6,84,22.8,81.6z M26.6,40.7c7-4.3,16.1-5.2,22.5-5.2c12.7,0,24.6,3.5,27.9,6.7c4.5,4.5,3.3,10.7,3.2,11.4   c-0.1,0.2-0.3,0.4-0.6,0.6c-0.4,0.3-1.1,0.6-1.9,0.9c-0.6,0.2-1.3,0.5-2.1,0.7c-1.2,0.3-2.5,0.7-4,1c-0.8,0.2-1.7,0.3-2.6,0.5   c-0.6,0.1-1.2,0.2-1.8,0.3c-0.8,0.1-1.6,0.2-2.4,0.4c-0.7,0.1-1.4,0.2-2.2,0.3c-0.7,0.1-1.3,0.2-2,0.2c-0.7,0.1-1.4,0.2-2.2,0.2   c-1,0.1-1.9,0.2-3,0.3c-4.3,0.3-9,0.5-13.9,0.5c0,0,0,0,0,0c-10,0-15.8-0.9-19-1.8c-0.9-0.3-1.7-0.6-2.2-0.8   c-0.8-0.4-1.2-0.8-1.2-1.1c0,0,0,0,0,0C17.9,45.4,26.1,40.9,26.6,40.7C26.5,40.7,26.6,40.7,26.6,40.7z M33.8,69.2   c-0.5,0-0.8,0-0.8,0l-1.5-0.8c1.1-0.7,1.8-1,2.1-1.2c0,0.1,0,0.3,0,0.5C33.7,68,33.7,68.6,33.8,69.2z M69.9,68c-0.5,0.7-1,1.1-2,1   c-1.5-0.2-1.5,0-2.2-0.7c-0.4-0.4-1.1-1.1-1.9-1.4c0-0.1,0.1-0.3,0.1-0.4C65.7,67,67.7,67.6,69.9,68z M52.2,69.8   c0.1-0.3,0.2-0.6,0.3-0.9c0.1-0.7,1.6-0.8,1.9-0.8c1.4,0,3,0.5,4.1,1.3c0.1,0.1,0.2,0.1,0.3,0.2c-0.1,0.1-0.2,0.2-0.3,0.2   c-0.5,0.4-1,0.7-1.5,1.1c-1.5,0.9-3.6,1.5-3.6,1.5s-3,1-4.5-0.5C50.4,71.9,51.6,71.1,52.2,69.8z M80.7,59.7   c-2.8,0.2-5.3,0.1-7.4-0.2c1-0.2,1.9-0.5,2.8-0.7c1.3-0.4,2.5-0.8,3.4-1.3c1.2,0.6,2.2,1.3,2.8,2C81.8,59.6,81.3,59.7,80.7,59.7z    M19,59.6c1.4,0.8,3.4,1.4,5.9,1.9l-1.8,3c-0.4,0.7-0.2,1.6,0.5,2.1c0.2,0.1,0.5,0.2,0.8,0.2c0.5,0,1-0.3,1.3-0.7l2.4-4   c3.4,0.4,7.6,0.6,12.4,0.7l0.4,2.3c0.1,0.7,0.8,1.2,1.5,1.2c0.1,0,0.2,0,0.3,0c0.8-0.2,1.3-0.9,1.2-1.8l-0.3-1.8   c3.6-0.1,8-0.2,12.5-0.6c0.8-0.1,1.5-0.1,2.3-0.2c0.4,0,0.7-0.1,1.1-0.1c0.5,0.6,0.9,1.3,1.2,1.9c0.3,0.6,0.4,1.3,0.4,1.8   c0,0.2,0,0.4,0,0.6c-0.1,0.8-0.5,1.2-0.5,1.2c0,0-0.1,0-0.1-0.1c-1.6-1.2-3.8-1.9-5.9-1.9c-2.6,0-4.4,1.2-4.8,3.2   c0,0.2-0.1,0.6-0.9,0.6c-0.8,0-2.2-0.5-3.3-1.6c-0.5-0.5-1.1-0.8-1.7-0.8c-1.2,0-1.8,0.8-2.2,2c-0.1,0.3-0.2,0.6-0.3,1   c-0.1,0.5-0.2,1-0.3,1.5c-0.2,1.5-0.7,4.1-1.5,4.6c-0.8-0.3-2.1-3.5-2.5-6.2c0-0.1,0-0.3-0.1-0.4c-0.1-0.5-0.1-0.9-0.1-1.4   c0-3.2-1.9-3.6-2.7-3.6c-1,0-2.5,0.4-6,3.1c-0.6,0.4-1.2,0.9-1.9,1.5c-0.2,0.2-0.5,0.4-0.7,0.5c-1.2,0.9-1.9,1-2.2,1   c-0.4,0-0.7-0.4-1-1c0,0,0,0,0,0c-0.1-0.3-0.2-0.6-0.3-0.9c-0.1-0.5-0.2-1-0.3-1.5c-0.1-0.5-0.1-0.9-0.1-1.2c0-0.5-0.1-0.9-0.1-1.2   c-0.2-1.5-1.3-2-2.1-2c-0.6,0-1.2,0.2-1.9,0.5c-0.9,0.3-1.9,0.8-2.9,0.6C15.1,62.6,17,61,19,59.6z M82.4,65.3   c-0.9,0.2-1.8,0.3-2.6,0.4c-2.4,0.2-4.8,0.1-7-0.2c-3.5-0.5-6.6-1.4-9.1-2.3c-0.2-0.6-0.4-1.2-0.8-1.8c1.3-0.2,2.6-0.3,3.9-0.5   c2.6,1.1,6.2,2.1,11,2.1c1.7,0,3.6-0.1,5.6-0.4L82.4,65.3z"/></g></svg>

  <div class="wrapper">
    <h2>ADD TO YOUR ORDER</h2>
    <p></p>
    <ul class="plates">
      <li>Loading Items...</li>
    </ul>
    <form class="add-items">
      <input type="text" name="item" placeholder="Item Name" required>
      <input type="submit" value="+ Add Item">
    </form>
  </div>

<script>
  const addItems = document.querySelector('.add-items');
  const itemsList = document.querySelector('.plates');
  const items = JSON.parse(localStorage.getItem('items')) || [];
  function addItem(e) {
    e.preventDefault();
    const text = (this.querySelector('[name=item]')).value;
    const item = {
      text,
      done: false
    };
    items.push(item);
    populateList(items, itemsList);
    localStorage.setItem('items', JSON.stringify(items));
    this.reset();
  }
  function populateList(plates = [], platesList) {
    platesList.innerHTML = plates.map((plate, i) => {
      return `
        <li>
          <input type="checkbox" data-index=${i} id="item${i}" ${plate.done ? 'checked' : ''} />
          <label for="item${i}">${plate.text}</label>
        </li>
      `;
    }).join('');
  }
  function toggleDone(e) {
    if (!e.target.matches('input')) return; // skip this unless it's an input
    const el = e.target;
    const index = el.dataset.index;
    items[index].done = !items[index].done;
    localStorage.setItem('items', JSON.stringify(items));
    populateList(items, itemsList);
  }
  addItems.addEventListener('submit', addItem);
  itemsList.addEventListener('click', toggleDone);
  populateList(items, itemsList);
</script>


</body>
</html>